<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Checker</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #1a1a1a; color: #fff; }
        .error-item { margin: 10px 0; padding: 10px; background: #2a2a2a; border-radius: 5px; border-left: 4px solid #f44336; }
        .error-type { color: #ff6b6b; font-weight: bold; }
        .error-message { margin: 5px 0; }
        .error-time { color: #888; font-size: 0.9em; }
        pre { background: #000; padding: 10px; border-radius: 3px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>üîç Error Log Checker</h1>
    <button onclick="checkErrors()">Check Stored Errors</button>
    <button onclick="clearErrors()">Clear Errors</button>
    <div id="error-count"></div>
    <div id="error-list"></div>

    <script>
        function checkErrors() {
            const errors = JSON.parse(localStorage.getItem('ai_agent_errors') || '[]');
            const countDiv = document.getElementById('error-count');
            const listDiv = document.getElementById('error-list');
            
            countDiv.innerHTML = `<h2>Found ${errors.length} stored errors</h2>`;
            
            if (errors.length === 0) {
                listDiv.innerHTML = '<p>No errors found in localStorage.</p>';
                return;
            }
            
            let html = '';
            errors.forEach((error, index) => {
                html += `
                    <div class="error-item">
                        <div class="error-type">${error.type}</div>
                        <div class="error-message"><strong>Message:</strong> ${error.message}</div>
                        ${error.filename ? `<div><strong>File:</strong> ${error.filename}:${error.lineno}:${error.colno}</div>` : ''}
                        ${error.url ? `<div><strong>URL:</strong> ${error.url}</div>` : ''}
                        ${error.status ? `<div><strong>Status:</strong> ${error.status}</div>` : ''}
                        <div class="error-time">${error.timestamp}</div>
                        ${error.stack ? `<pre>${error.stack}</pre>` : ''}
                    </div>
                `;
            });
            
            listDiv.innerHTML = html;
        }
        
        function clearErrors() {
            localStorage.removeItem('ai_agent_errors');
            document.getElementById('error-count').innerHTML = '<h2>Errors cleared</h2>';
            document.getElementById('error-list').innerHTML = '';
        }
        
        // Auto-check on load
        window.onload = checkErrors;
    </script>
</body>
</html>